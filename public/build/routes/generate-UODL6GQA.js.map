{
  "version": 3,
  "sources": ["../../../node_modules/.pnpm/tiny-invariant@1.3.1/node_modules/tiny-invariant/dist/esm/tiny-invariant.js", "../../../app/routes/generate.ts"],
  "sourcesContent": ["var isProduction = process.env.NODE_ENV === 'production';\nvar prefix = 'Invariant failed';\nfunction invariant(condition, message) {\n    if (condition) {\n        return;\n    }\n    if (isProduction) {\n        throw new Error(prefix);\n    }\n    var provided = typeof message === 'function' ? message() : message;\n    var value = provided ? \"\".concat(prefix, \": \").concat(provided) : prefix;\n    throw new Error(value);\n}\n\nexport { invariant as default };\n", "import invariant from 'tiny-invariant'\n\nconst systemPrompt = `\n\u3042\u306A\u305F\u306F\u512A\u79C0\u306A\u30B3\u30D4\u30FC\u30E9\u30A4\u30BF\u30FC\u3067\u3059\u3002\u3053\u308C\u304B\u3089\u30E6\u30FC\u30B6\u304C\u5165\u308C\u308B\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9\u3084ID\u306E\u540D\u524D\u306E\u4ED8\u3051\u65B9\u304B\u3089\u3001\u540D\u524D\u3092\u6C7A\u3081\u305F\u4EBA\u304C\u3069\u3093\u306A\u4EBA\u304B\u3092\u5358\u8A9E\u3092\u5143\u306B\u985E\u63A8\u3057\u3066\u30CB\u30C3\u30AF\u30CD\u30FC\u30E0\u3092\u3064\u3051\u3066\u304F\u3060\u3055\u3044\u3002\n\n\u4E00\u3064\u3065\u3064\u3084\u308A\u307E\u3057\u3087\u3046\u3002\n\n\u307E\u305A\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9\u306E\u30D1\u30FC\u30C4\u306B\u542B\u307E\u308C\u308B\u5358\u8A9E\u3092\u3001\u65E5\u672C\u8A9E\u306E\u8A00\u8449\u3060\u3068\u6349\u3048\u3066\u3001\u305D\u308C\u3092\u5143\u306B\u3069\u306E\u3088\u3046\u306A\u610F\u5473\u304C\u3042\u308B\u304B\u3092\u8003\u3048\u307E\u3059\u3002\n\n\u6B21\u306B\u305D\u306E\u610F\u5473\u306B\u57FA\u3065\u3044\u3066\u3001\u305D\u306E\u540D\u524D\u3092\u3064\u3051\u305F\u4EBA\u304C\u3069\u306E\u3088\u3046\u306A\u8DA3\u5473\u30FB\u55DC\u597D\u304C\u3042\u308B\u304B\u3092\u63A8\u6E2C\u3057\u307E\u3059\u3002\n\n\u6700\u5F8C\u306B\u3001\u8DA3\u5473\u55DC\u597D\u306B\u5408\u308F\u305B\u308B\u5F62\u3067\u3001\u6700\u521D\u306E\u65E5\u672C\u8A9E\u3067\u306E\u610F\u5473\u3092\u5143\u306B\u82F1\u8A9E\u306E\u5358\u8A9E\u3092\u8003\u3048\u3001\u305D\u308C\u3089\u3092\u3059\u3079\u3066\u7D44\u307F\u5408\u308F\u305B\u3066\u82F1\u8A9E\u570F\u3067\u4F7F\u3048\u308B\u30CB\u30C3\u30AF\u30CD\u30FC\u30E0\u5019\u88DC\u3092\u751F\u6210\u3057\u3066\u304F\u3060\u3055\u3044\u3002\n\u5019\u88DC\u306F\uFF15\u3064\u51FA\u3057\u3066\u304F\u3060\u3055\u3044\u3002\u305D\u306E\u3046\u3061\u534A\u5206\u306F\u3001\u30D7\u30ED\u30EC\u30B9\u30E9\u30FC\u307F\u305F\u3044\u306A\u3084\u6B74\u6226\u306E\u6226\u58EB\u307F\u305F\u3044\u306B\u3081\u3061\u3083\u304F\u3061\u3083\u304B\u3063\u3053\u3044\u3044\u3082\u306E\u306B\u3057\u3066\u304F\u3060\u3055\u3044\u3002\n\n\nOutput format:\n\n\u30CB\u30C3\u30AF\u30CD\u30FC\u30E0\u5019\u88DC:\n  1. nickname1\n  2. nickname2\n  3. nickname3\n  4. nickname4\n  5. nickname5\n\n\u6839\u62E0:\n  \u30CB\u30C3\u30AF\u30CD\u30FC\u30E0\u3092\u8003\u3048\u305F\u6839\u62E0\n\n\u30E6\u30FC\u30B6\u304C\u3069\u306E\u3088\u3046\u306B\u611F\u3058\u308B\u304B\u306E\u60F3\u50CF:\n  Assistant\u304C\u3069\u306E\u3088\u3046\u306B\u611F\u3058\u308B\u304B\u306E\u60F3\u50CF\n`\n\ninvariant(process.env.OPENAI_API_KEY, 'Missing env var from OpenAI')\n\nconst handler = async (req: Request): Promise<Response> => {\n  try {\n    const { input } = (await req.json()) as {\n      input?: string\n    }\n\n    if (!input) {\n      return new Response('No input in the request', { status: 400 })\n    }\n\n    // const payload: OpenAIStreamPayload = {\n    //   model: 'gpt-3.5-turbo',\n    //   messages: [\n    //     {\n    //       role: 'system',\n    //       content: systemPrompt,\n    //     },\n    //     { role: 'user', content: input },\n    //   ],\n    //   temperature: 0.7,\n    //   top_p: 1,\n    //   frequency_penalty: 0,\n    //   presence_penalty: 0,\n    //   max_tokens: 800,\n    //   stream: true,\n    //   n: 1,\n    // }\n\n    // const stream = await OpenAIChatStream(payload, {\n    //   onComplete: (message) => {\n    //     console.log({ input, message })\n    //   },\n    // })\n    return new Response('OK', { status: 200 })\n  } catch (error: any) {\n    console.error(error)\n    return new Response('Something went wrong', { status: 500 })\n  }\n}\n\nexport default handler\n"],
  "mappings": ";;;AAAA,IAAI,eAAe;AACnB,IAAI,SAAS;AACb,SAAS,UAAU,WAAW,SAAS;AACnC,MAAI,WAAW;AACX;AAAA,EACJ;AACA,MAAI,cAAc;AACd,UAAM,IAAI,MAAM,MAAM;AAAA,EAC1B;AACA,MAAI,WAAW,OAAO,YAAY,aAAa,QAAQ,IAAI;AAC3D,MAAI,QAAQ,WAAW,GAAG,OAAO,QAAQ,IAAI,EAAE,OAAO,QAAQ,IAAI;AAClE,QAAM,IAAI,MAAM,KAAK;AACzB;;;ACmBA,UAAU,QAAQ,IAAI,gBAAgB,6BAA6B;AAEnE,IAAM,UAAU,OAAO,QAAoC;AACzD,MAAI;AACF,UAAM,EAAE,MAAM,IAAK,MAAM,IAAI,KAAK;AAIlC,QAAI,CAAC,OAAO;AACV,aAAO,IAAI,SAAS,2BAA2B,EAAE,QAAQ,IAAI,CAAC;AAAA,IAChE;AAyBA,WAAO,IAAI,SAAS,MAAM,EAAE,QAAQ,IAAI,CAAC;AAAA,EAC3C,SAAS,OAAP;AACA,YAAQ,MAAM,KAAK;AACnB,WAAO,IAAI,SAAS,wBAAwB,EAAE,QAAQ,IAAI,CAAC;AAAA,EAC7D;AACF;AAEA,IAAO,mBAAQ;",
  "names": []
}
